var f=Object.defineProperty;var h=(s,e,n)=>e in s?f(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var u=(s,e,n)=>(h(s,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();class _{constructor(){u(this,"listeners",[])}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(n=>n!==e)}notifyListeners(e){this.listeners.forEach(n=>n(e))}}const c=class c extends _{constructor(){super();u(this,"menu",{menu:[]})}static get instance(){return c._instance||(c._instance=new c),c._instance}addItem(n){this.menu.menu.push(n),this.notifyListeners(this.menu)}removeItem(n){this.menu.menu=this.menu.menu.filter(r=>r!==n),this.notifyListeners(this.menu)}getMenu(){return this.menu}clearMenu(){this.menu.menu=[],this.notifyListeners(this.menu)}};u(c,"_instance");let o=c;function g(s){s.preventDefault(),console.log(s);const e=new FormData(s.target),n=e.get("item_name"),r=e.get("item_price"),t=e.get("item_type"),i={name:n,price:parseFloat(r),kind:t};console.log(i),o.instance.addItem(i)}function y(s){const e=document.getElementById("menu_preview");e.innerHTML="";const n=s.menu;for(const r of n){const t=document.createElement("div");t.classList.add("menu_item");const i=document.createElement("div");i.classList.add("menu_item_info");const m=document.createElement("h3");m.innerText="Name: "+r.name,i.appendChild(m);const a=document.createElement("p");a.innerText="Price: $"+r.price.toString(),i.appendChild(a);const l=document.createElement("p");l.innerText="Kind: "+r.kind,i.appendChild(l),t.appendChild(i);const d=document.createElement("button");d.classList.add("remove"),d.innerText="Remove",d.addEventListener("click",()=>{o.instance.removeItem(r)}),t.appendChild(d),e.appendChild(t)}}function p(s){const e=JSON.stringify(s,null,4),n=document.getElementById("menu_json_content");n.innerText=e}window.addEventListener("load",()=>{p(o.instance.getMenu())});const L=document.getElementById("item_input_form");L.onsubmit=g;document.getElementById("clear_button").onclick=()=>{o.instance.clearMenu()};o.instance.addListener(y);o.instance.addListener(p);
